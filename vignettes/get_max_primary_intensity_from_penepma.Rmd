---
title: "Get the maximum primary intensity for selected elements from penepma"
author: "John Minter"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Get the maximum primary intensity for selected elements from penepma}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = NA
)
```

Our objective is to compute the maximum primary intensity from selected elements
from a penepma simulation of C-coated EagleXG glass.

## Load the intensity file

First we get our exemplar file.

```{r getPath}
spcPath <- system.file("extdata", "pe-intens-01.dat", package = "rpenepma")
spcPath
```

Then we create a tibble using the `penepma_get_intensities` function

```{r loadTibble, message=FALSE}
library(rpenepma)
tib <- penepma_get_intensities(spcPath)
print(summary(tib))
```

Now compute the maximum intensity for C


```{r calcCarbon, message=TRUE}
C <- penepma_get_max_primary_intensity_z(tib, 6)
print(C)
```

Next, compute the maximum intensity for Si

```{r calcSilicon, message=TRUE}
Si <- penepma_get_max_primary_intensity_z(tib, 14)
print(Si)
```

Next, compute the maximum intensity for O

```{r calcOxygen, message=TRUE}
O <- penepma_get_max_primary_intensity_z(tib, 8)
print(O)
```


Finally, compute the maximum intensity for Ca

```{r calcCalcium, message=TRUE}
Ca <- penepma_get_max_primary_intensity_z(tib, 20)
print(Ca)
```
